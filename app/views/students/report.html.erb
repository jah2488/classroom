<!doctype html>
<html>
  <head>
    <meta charset='utf-8' />
    <%= wicked_pdf_stylesheet_link_tag "application" -%>
    <link href='http://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Slabo+27px' rel='stylesheet' type='text/css'>
    <script>
        function getBinary(file) {
          var xhr = new XMLHttpRequest();
          xhr.open("GET", file, false);
          xhr.overrideMimeType("text/plain; charset=x-user-defined");
          xhr.send(null);
          return xhr.responseText;
        }
        // Base64 encode binary string
        // Stolen from http://stackoverflow.com/questions/7370943/retrieving-binary-file-content-using-javascript-base64-encode-it-and-reverse-de
        function base64Encode(str) {
          var CHARS = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
          var out = "", i = 0, len = str.length, c1, c2, c3;
          while (i < len) {
            c1 = str.charCodeAt(i++) & 0xff;
            if (i == len) {
              out += CHARS.charAt(c1 >> 2);
              out += CHARS.charAt((c1 & 0x3) << 4);
              out += "==";
              break;
            }
            c2 = str.charCodeAt(i++);
            if (i == len) {
              out += CHARS.charAt(c1 >> 2);
              out += CHARS.charAt(((c1 & 0x3)<< 4) | ((c2 & 0xF0) >> 4));
              out += CHARS.charAt((c2 & 0xF) << 2);
              out += "=";
              break;
            }
            c3 = str.charCodeAt(i++);
            out += CHARS.charAt(c1 >> 2);
            out += CHARS.charAt(((c1 & 0x3) << 4) | ((c2 & 0xF0) >> 4));
            out += CHARS.charAt(((c2 & 0xF) << 2) | ((c3 & 0xC0) >> 6));
            out += CHARS.charAt(c3 & 0x3F);
          }
          return out;
        }
        // When menu is clicked, load font file, encode it and inline to the doc <head>
        var loadFonts = function() {
          var base64EncodedFont = base64Encode(getBinary("http://fonts.gstatic.com/s/patuaone/v6/yAXhog6uK3bd3OwBILv_SJBw1xU1rKptJj_0jans920.woff2"));
          var fontCode = "@font-face { font-family: 'Patua One'; src: url('data:application/font-woff;base64," + base64EncodedFont + "') format('woff'); font-style: normal; font-weight: normal }";
          var styleElement = document.createElement("style");
          styleElement.type = "text/css";
          if (styleElement.styleSheet) {
            styleElement.styleSheet.cssText = fontCode;
          } else {
            styleElement.innerHTML = fontCode;
          }
          document.head.appendChild(styleElement);
        }
    </script>
    <style>
      h1, h2, h3, h4 {
        font-family: 'Patua One', serif;
        font-weight: bold;
      }
      h2 {
        margin-bottom: 0px;
      }
      p strong {
        font-style: italic;
      }
      p.description {
        font-size: 13px;
      }
      .logo-box {
        margin-top: 20px;
      }
      body {
        margin-top: 20px;
      }
    </style>
  </head>
  <body onready='loadFonts()' onload='loadFonts()'>
    <div class='container'>
      <div class='row'>
        <div class='col-xs-4'>
          <div class='logo-box clearfix'>
            <% if debug %>
              <%= image_tag 'iron-yard-logo.svg', style: 'float: right;' %>
            <% else %>
              <%= wicked_pdf_image_tag 'iron-yard-logo.svg', style: 'float: right;' %>
            <% end %>
          </div>
          <h4 class='text-right'>Campus</h4>
          <p class='text-right'><%= campus %></p>

          <h4 class='text-right'>Course</h4>
          <p class='text-right'><%= course %></p>

          <h4 class='text-right'>Session</h4>
          <p class='text-right'><%= cohort %></p>

          <h4 class='text-right'>Instructor</h4>
          <p class='text-right'><%= instructor %></p>

          <h4 class='text-right'>Student</h4>
          <p class='text-right'><%= student %></p>
        </div>
        <div class='col-xs-8'>
          <h1>Bi-Weekly Performance</h1>
          <p class='description'>TIY students will be assessed every two weeks during the regular session, and every week during the final project (unless otherwise noted by the Instructor. On a biweekly basis, students will be assessed on their participation, effort, and skill on a Likert scale from 1 (unsatisfactory) to 3 (satisfactory) with room for comments. In addition, studentsâ€™ overall performance and accountability will be assessed, including attendance and meeting homework and career assistance deadlines.</p>

            <h2>Participation (<%= participation %>)</h2>
            <p>Comments:</p>
            <%= content_tag(:p, participation_comments) %>

            <h2>Effort (<%= effort %>)</h2>
            <p>Comments:</p>
            <%= content_tag(:p, effort_comments) %>

            <h2>Skill (<%= skill %>)</h2>
            <p>Comments:</p>
            <%= content_tag(:p, skill_comments) %>

            <h3>Overall Performance (<%= overall %>)</h3>
            <h4>Attendance:</h4>
            <p>Student has...<br/>
            attended <%= total_lectures - absences %>/<%= total_lectures %> lectures in total during the 12-week session<br/>
            been late <%= tardies %>/<%= total_lectures %> times in total during the 12-week session</p>
            <h4>Completed assignments:</h4>
            <p>Student has...<br/>
            completed <%= completed_assignments %>/<%= total_assignments %> assignments in total during the 12-week session Comments:</p>
            <%= content_tag(:p, overall_comments) %>

            <h4>Status (based on above)</h4>
            <h1><%= status %></h1>

            <p class='description'><strong>Satisfactory:</strong> Meeting course standards and requirements; continues receiving career support and ability to present at Demo Day.</p>
            <p class='description'><strong>Unsatisfactory:</strong> Not meeting course standards and requirements, must improve performance before next review and maintain performance in order to receive both career support and ability to present at Demo Day.</p>
            <p class='description'><strong>Probation:</strong> Continued failure to meet course standards and requirements; access to career support and ability to present at Demo Day are temporarily revoked until the end of semester (or other time as specified by staff) at which time a review of progress takes place.If the results are satisfactory, career support and ability to present at Demo Day will be reinstated.</p>

        </div>
      </div>
    </div>
    <script>
      loadFonts();
    </script>
  </body>
</html>
