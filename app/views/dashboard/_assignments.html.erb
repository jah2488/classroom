<p class='muted'>Assignments</p>
<section class='assignments'>
  <header>
    <h3>Assignments (<%= assignments.count %>)</h3>
  </header>
  <div class='filters'>
    <%= link_to "View All",        params.merge(filter: :all),        class: 'btn btn-primary' %>
    <%= link_to "View Incomplete", params.merge(filter: :incomplete), class: 'btn btn-default' %>
    <%= link_to "View Complete",   params.merge(filter: :complete),   class: 'btn btn-default' %>
    <%= link_to "View Late",       params.merge(filter: :late),       class: 'btn btn-default' %>
    <%= react_component('SearchAssignments', {}, tag: 'span' ) %>
  </div>
  <ul class='list'>
    <% assignments.each do |assignment| %>
      <li>
        <div class='assignment'>
          <div class='row'>
            <div class='col-sm-7'><h4><%= link_to assignment.title.titleize, student_assignment_path(assignment) %></h4></div>
            <div class='col-sm-3'><h5><%= react_time(assignment.due_date) %></h5></div>
            <div class='grade col-xs-2'><%= status_for(assignment, current_student) %></div>
          </div>
          <div class='row'>
            <div class='col-sm-12'>
              <ul>
              <% assignment.submissions_for(current_student).each do |submission| %>
                <li>
                  <div class='submission'>
                    <div class='row'>
                      <div class='col-sm-10'>
                        Submitted <%= react_time submission.created_at %> <%= link_to "View Submission #{' And Feedback' if has_feedback?(submission)}", submission %>
                      </div>
                      <div class='col-sm-2'> <%= feedback_label(submission) %></div>
                    </div>
                  </div>
              </li>
              <% end %>
              </ul>
            </div>
          </div>
        </div>
      </li>
    <% end %>
  </ul>
</section>

